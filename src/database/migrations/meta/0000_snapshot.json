{
  "id": "1b592010-9dfd-46f5-9573-483487732e0d",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.bulk_notification_items": {
      "name": "bulk_notification_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "bulk_job_id": {
          "name": "bulk_job_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "notification_id": {
          "name": "notification_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "row_number": {
          "name": "row_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "csv_data": {
          "name": "csv_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bulk_notification_items_bulk_job_id_bulk_notification_jobs_id_fk": {
          "name": "bulk_notification_items_bulk_job_id_bulk_notification_jobs_id_fk",
          "tableFrom": "bulk_notification_items",
          "tableTo": "bulk_notification_jobs",
          "columnsFrom": [
            "bulk_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bulk_notification_items_notification_id_notifications_id_fk": {
          "name": "bulk_notification_items_notification_id_notifications_id_fk",
          "tableFrom": "bulk_notification_items",
          "tableTo": "notifications",
          "columnsFrom": [
            "notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bulk_notification_items_uuid_unique": {
          "name": "bulk_notification_items_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "bulk_notification_items_tenant_isolation_policy": {
          "name": "bulk_notification_items_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "EXISTS (\n      SELECT 1 FROM bulk_notification_jobs \n      WHERE bulk_notification_jobs.id = bulk_notification_items.bulk_job_id \n      AND bulk_notification_jobs.tenant_id = current_setting('app.current_tenant_id', true)::bigint\n    )"
        },
        "bulk_notification_items_service_full_access_policy": {
          "name": "bulk_notification_items_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bulk_notification_jobs": {
      "name": "bulk_notification_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "job_name": {
          "name": "job_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "total_count": {
          "name": "total_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "processed_count": {
          "name": "processed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "configuration": {
          "name": "configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bulk_notification_jobs_tenant_id_tenants_id_fk": {
          "name": "bulk_notification_jobs_tenant_id_tenants_id_fk",
          "tableFrom": "bulk_notification_jobs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bulk_notification_jobs_uuid_unique": {
          "name": "bulk_notification_jobs_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "bulk_notification_jobs_tenant_isolation_policy": {
          "name": "bulk_notification_jobs_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "bulk_notification_jobs_service_full_access_policy": {
          "name": "bulk_notification_jobs_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lookup_types": {
      "name": "lookup_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type_name": {
          "name": "type_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lookup_types_uuid_unique": {
          "name": "lookup_types_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "lookup_types_type_name_unique": {
          "name": "lookup_types_type_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "type_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.lookups": {
      "name": "lookups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lookup_type_id": {
          "name": "lookup_type_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "lookups_lookup_type_id_lookup_types_id_fk": {
          "name": "lookups_lookup_type_id_lookup_types_id_fk",
          "tableFrom": "lookups",
          "tableTo": "lookup_types",
          "columnsFrom": [
            "lookup_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lookups_uuid_unique": {
          "name": "lookups_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "lookups_code_unique": {
          "name": "lookups_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_batches": {
      "name": "notification_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "batch_id": {
          "name": "batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "batch_token": {
          "name": "batch_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "total_expected": {
          "name": "total_expected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_sent": {
          "name": "total_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_delivered": {
          "name": "total_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_failed": {
          "name": "total_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status_id": {
          "name": "status_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_batches_tenant_id_tenants_id_fk": {
          "name": "notification_batches_tenant_id_tenants_id_fk",
          "tableFrom": "notification_batches",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_batches_status_id_lookups_id_fk": {
          "name": "notification_batches_status_id_lookups_id_fk",
          "tableFrom": "notification_batches",
          "tableTo": "lookups",
          "columnsFrom": [
            "status_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_batches_uuid_unique": {
          "name": "notification_batches_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "notification_batches_batch_id_unique": {
          "name": "notification_batches_batch_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "batch_id"
          ]
        }
      },
      "policies": {
        "notification_batches_tenant_isolation_policy": {
          "name": "notification_batches_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notification_batches_service_full_access_policy": {
          "name": "notification_batches_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_logs": {
      "name": "notification_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "notification_id": {
          "name": "notification_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_response": {
          "name": "provider_response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_logs_notification_id_notifications_id_fk": {
          "name": "notification_logs_notification_id_notifications_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "notifications",
          "columnsFrom": [
            "notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_logs_tenant_id_tenants_id_fk": {
          "name": "notification_logs_tenant_id_tenants_id_fk",
          "tableFrom": "notification_logs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_logs_uuid_unique": {
          "name": "notification_logs_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "notification_logs_tenant_isolation_policy": {
          "name": "notification_logs_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notification_logs_service_full_access_policy": {
          "name": "notification_logs_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_preferences_tenant_id_tenants_id_fk": {
          "name": "notification_preferences_tenant_id_tenants_id_fk",
          "tableFrom": "notification_preferences",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_preferences_uuid_unique": {
          "name": "notification_preferences_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "notification_preferences_tenant_isolation_policy": {
          "name": "notification_preferences_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notification_preferences_service_full_access_policy": {
          "name": "notification_preferences_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_providers": {
      "name": "notification_providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_name": {
          "name": "provider_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "credentials": {
          "name": "credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "configuration": {
          "name": "configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_providers_tenant_id_tenants_id_fk": {
          "name": "notification_providers_tenant_id_tenants_id_fk",
          "tableFrom": "notification_providers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_providers_uuid_unique": {
          "name": "notification_providers_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "notification_providers_tenant_isolation_policy": {
          "name": "notification_providers_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notification_providers_service_full_access_policy": {
          "name": "notification_providers_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_templates": {
      "name": "notification_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "template_code": {
          "name": "template_code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "template_type_id": {
          "name": "template_type_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "body_template": {
          "name": "body_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html_template": {
          "name": "html_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_templates_tenant_id_tenants_id_fk": {
          "name": "notification_templates_tenant_id_tenants_id_fk",
          "tableFrom": "notification_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_templates_template_type_id_lookups_id_fk": {
          "name": "notification_templates_template_type_id_lookups_id_fk",
          "tableFrom": "notification_templates",
          "tableTo": "lookups",
          "columnsFrom": [
            "template_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_templates_uuid_unique": {
          "name": "notification_templates_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "notification_templates_template_code_unique": {
          "name": "notification_templates_template_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "template_code"
          ]
        }
      },
      "policies": {
        "notification_templates_tenant_isolation_policy": {
          "name": "notification_templates_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notification_templates_service_full_access_policy": {
          "name": "notification_templates_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_user_id": {
          "name": "recipient_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_user_type": {
          "name": "recipient_user_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_phone": {
          "name": "recipient_phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_metadata": {
          "name": "recipient_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html_body": {
          "name": "html_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status_id": {
          "name": "status_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "priority_id": {
          "name": "priority_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bulk_job_id": {
          "name": "bulk_job_id",
          "type": "bigserial",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notifications_tenant_id_tenants_id_fk": {
          "name": "notifications_tenant_id_tenants_id_fk",
          "tableFrom": "notifications",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notifications_template_id_notification_templates_id_fk": {
          "name": "notifications_template_id_notification_templates_id_fk",
          "tableFrom": "notifications",
          "tableTo": "notification_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notifications_batch_id_notification_batches_id_fk": {
          "name": "notifications_batch_id_notification_batches_id_fk",
          "tableFrom": "notifications",
          "tableTo": "notification_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notifications_status_id_lookups_id_fk": {
          "name": "notifications_status_id_lookups_id_fk",
          "tableFrom": "notifications",
          "tableTo": "lookups",
          "columnsFrom": [
            "status_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notifications_priority_id_lookups_id_fk": {
          "name": "notifications_priority_id_lookups_id_fk",
          "tableFrom": "notifications",
          "tableTo": "lookups",
          "columnsFrom": [
            "priority_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notifications_uuid_unique": {
          "name": "notifications_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        }
      },
      "policies": {
        "notifications_tenant_isolation_policy": {
          "name": "notifications_tenant_isolation_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "tenant_id = current_setting('app.current_tenant_id', true)::bigint"
        },
        "notifications_service_full_access_policy": {
          "name": "notifications_service_full_access_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_uuid_unique": {
          "name": "tenants_uuid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uuid"
          ]
        },
        "tenants_domain_unique": {
          "name": "tenants_domain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "domain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {
    "anon": {
      "name": "anon",
      "createDb": false,
      "createRole": false,
      "inherit": true
    },
    "authenticated": {
      "name": "authenticated",
      "createDb": false,
      "createRole": false,
      "inherit": true
    },
    "service_role": {
      "name": "service_role",
      "createDb": false,
      "createRole": false,
      "inherit": true
    }
  },
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}